language: cpp
compiler:
  - gcc
env:
  global:
    - DOCKER_PACKAGES="build-essential libtool cmake autotools-dev automake pkg-config bsdmainutils curl git ca-certificates ccache"

addons:
  apt:
    packages:
      - g++-5.4
      - gcc-5.4
      - libboost-all-dev

before_install:
  - pip install --user cpp-coveralls
script:
  - mkdir build && cd build && cmake .. && make && make check
after_success:
  - coveralls --exclude lib --exclude tests --gcov-options '\-lp'
